(this["webpackJsonp@spekta/react-mfe-example"]=this["webpackJsonp@spekta/react-mfe-example"]||[]).push([[0],{23:function(e,t,n){},31:function(e,t,n){e.exports=n(52)},52:function(e,t,n){"use strict";n.r(t);n(23);var a=n(0),s=n.n(a),o=n(26),r=n.n(o),c=n(9);const i=()=>s.a.createElement(c.a,null,({signinRedirectCallback:e})=>(e(),s.a.createElement("span",null,"loading"))),l=()=>s.a.createElement(c.a,null,({signinSilentCallback:e})=>(e(),s.a.createElement("span",null,"loading")));var p=n(21),m=n(1),d=n.n(m),h=n(30);class u extends d.a.Component{constructor(e){super(e)}componentDidMount(){const e="micro-frontend-script-".concat(this.props.name),t=this.props.id?this.props.id:this.props.name+"-container",n=()=>{window["render"+this.props.name](t,this.props.history,this.props.data,this.props.events,this.props.token)};if(!document.getElementById(e))return fetch("".concat(this.props.host,"/asset-manifest.json")).then(e=>e.json()).then(t=>{const a=document.createElement("script");a.id=e,a.crossOrigin="",a.src="".concat(this.props.host).concat(t.files["main.js"]),a.onload=()=>{n()},document.head.appendChild(a)}),()=>{window["unmount"+this.props.name]&&window["unmount"+this.props.name](t)};n()}render(){const e=this.props.id?this.props.id:this.props.name+"-container";return d.a.createElement("main",{id:e})}}class E extends m.Component{constructor(e){super(e),this.state={loading:!0,len:0},this.checkLoading()}componentDidMount(){this.checkLoading(500)}checkLoading(e){const t=this.props.id?this.props.id:this.props.name+"-container",n=document.getElementById(t);if(n&&n.childNodes.length>0)this.setState(Object(p.a)(Object(p.a)({},this.state),{},{loading:!1,len:e}));else{var a=this;setTimeout(()=>{a.checkLoading(e)},e)}}renderLoading(e){return e&&this.state.loading?d.a.createElement(e,null):null}render(){const e=this.renderLoading(this.props.loading);let t=this.state.loading?e:null;return d.a.createElement(m.Fragment,null,t,d.a.createElement(u,{id:this.props.id,history:this.props.history,host:this.props.host,name:this.props.name,data:this.props.data,events:this.props.events,token:this.props.token}))}}class g extends m.Component{getAccessToken(){const e=this.props.localStore?localStorage:sessionStorage,t=JSON.parse(e.getItem("oidc.user:".concat("https://localhost:44395",":").concat("Travelx-React-Client")));return t&&t.access_token?t.access_token:""}render(){return d.a.createElement(h.a,null,({isAuthenticated:e})=>{const t=this.getAccessToken();return console.log("ACCESS TOK"),console.log(t),e()?d.a.createElement(E,{history:this.props.history,host:this.props.host,name:this.props.name,data:this.props.data,events:this.props.events,loading:this.props.loading,token:t}):null})}}const k=()=>s.a.createElement("span",null,"Loading...");class v extends a.Component{render(){return s.a.createElement("div",{id:"profile-partial-service"},s.a.createElement(E,{id:"homepage",name:"Test",host:"https://localhost:44306",loading:k}))}}v.displayName=v.name;const C=()=>s.a.createElement("span",null,"Loading...");class x extends a.Component{render(){return s.a.createElement("div",{id:"profile-partial-service"},s.a.createElement(E,{id:"counter",name:"Counter",host:"https://localhost:44306",loading:C}))}}x.displayName=x.name;const f=()=>s.a.createElement("span",null,"Loading...");class b extends a.Component{constructor(e){super(e),this.state={data:{customerId:1,showUpdateButton:!0},events:{onClick:this.onClick}}}onClick(){alert("onClick")}render(){return s.a.createElement(g,{name:"CustomerDetails",host:"https://localhost:44306",data:this.state.data,events:this.state.events,localStore:!0,loading:f})}}b.displayName=b.name;var y=n(10),w=n(3),L=n(55);const N=e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(L.a,null,s.a.createElement("div",{className:"menu"},s.a.createElement("div",{className:"menu-item"},s.a.createElement(y.b,{to:"/"},"Home")),s.a.createElement("div",{className:"menu-item"},s.a.createElement(y.b,{to:"/counter"},"Counter")),s.a.createElement("div",{className:"menu-item"},s.a.createElement(y.b,{to:"/customer"},"Customer")))),s.a.createElement(L.a,null,e.children));var S=()=>s.a.createElement(c.b,{logger:console},s.a.createElement(y.a,{basename:"/"},s.a.createElement(N,null,s.a.createElement(w.a,{exact:!0,path:"/signin-oidc",component:i}),s.a.createElement(w.a,{exact:!0,path:"/silentRenew",component:l}),s.a.createElement(w.a,{exact:!0,path:"/",component:v}),s.a.createElement(w.a,{exact:!0,path:"/counter",component:x}),s.a.createElement(c.c,{exact:!0,path:"/customer",component:b}))));r.a.render(s.a.createElement(S,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.e26fa6a4.chunk.js.map